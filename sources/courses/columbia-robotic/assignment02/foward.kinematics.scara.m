pkg load symbolic
# 0 q1 0 0
syms q1
j1rz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0, 0, 0, 1]]
j1tz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, q1]; [0,0,0,1]]
j1tx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j1rx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
line1 = j1rz*j1tz*j1tx*j1rx
# q2 0 0.7 0
syms q2
j2rz = [[cos(q2), -sin(q2), 0, 0]; [sin(q2), cos(q2), 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j2tz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j2tx = [[1, 0, 0, 0.7]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j2rx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
line2 = j2rz*j2tz*j2tx*j2rx
# q3 0 0.7 0
syms q3
j3rz = [[cos(q3), -sin(q3), 0, 0]; [sin(q3), cos(q3), 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j3tz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j3tx = [[1, 0, 0, 0.7]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j3rx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
line3 = j3rz*j3tz*j3tx*j3rx
# 0 q4 0 0
syms q4
j4rz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0, 0, 0, 1]]
j4tz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, q4]; [0,0,0,1]]
j4tx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j4rx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
line4 = j4rz*j4tz*j4tx*j4rx
# q5 0 0 0
syms q5
j5rz = [[cos(q5), -sin(q5), 0, 0]; [sin(q5), cos(q5), 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j5tz = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j5tx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
j5rx = [[1, 0, 0, 0]; [0, 1, 0, 0]; [0, 0, 1, 0]; [0,0,0,1]]
line5 = j5rz*j5tz*j5tx*j5rx
T = line1*line2*line3*line4*line5
